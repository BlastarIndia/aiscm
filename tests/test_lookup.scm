(use-modules (aiscm element)
             (aiscm lookup)
             (aiscm malloc)
             (aiscm pointer)
             (aiscm variable)
             (aiscm int)
             (oop goops)
             (guile-tap))
(define m #vu8(1 2 3 4 5 6 7 8))
(define p (make-pointer <byte> m))
(define v (make-var))
(planned-tests 4)
(ok (equal? p (get-value (make-lookup p v 2)))
  "query value of lookup object")
(ok (eq? v (get-index (make-lookup p v 2)))
  "query index of lookup object")
(ok (eqv? 2 (get-stride (make-lookup p v 2)))
  "query stride of lookup object")
(ok (equal? (make-lookup p v 2) (lookup p v 2))
  "lookup with variable")
(format #t "~&")

